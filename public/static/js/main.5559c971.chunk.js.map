{"version":3,"sources":["components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/Api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ConfirmDeletePopup.js","components/App.js","index.js","images/logo-mesto.svg"],"names":["Header","className","src","logo","alt","Footer","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardDelete","onCardLike","onCardDislike","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","cardLikeButtonClassName","style","backgroundImage","link","onClick","name","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","avatar","about","map","key","ImagePopup","onClose","api","baseUrl","headers","this","res","ok","json","Promise","reject","Error","status","all","getInitialCards","getUserInfo","fetch","then","_handleOriginalResponse","item","method","body","JSON","stringify","id","authorization","PopupWithForm","isOpen","children","title","submit","onSubmit","evt","target","currentTarget","noValidate","type","value","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","e","preventDefault","placeholder","onChange","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","nameRef","linkRef","ConfirmDeletePopup","cardId","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeletePopupOpen","setIsDeletePopupOpen","selectedCard","setSelectedCard","cardToDelete","setCardToDelete","setCurrentUser","setCards","getAllInfo","dataCards","dataProfile","catch","err","console","log","handleEscClose","closeAllPopups","document","addEventListener","removeEventListener","Provider","putLike","newCard","newCards","c","removeLike","data","setUserInfo","editAvatar","addCard","deleteCard","filter","ReactDOM","render","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.5559c971.chunk.js","sourcesContent":["import React from 'react'\nimport logo from '../images/logo-mesto.svg'\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img src={logo} className=\"logo\" alt=\"Логотип\" />\n    </header>\n  )\n}\n\nexport default Header\n","import React from 'react'\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <h4 className=\"footer__author\">&copy; 2020 Mesto Russia</h4>\n    </footer>\n  )\n}\n\nexport default Footer\n","import React from 'react'\n\nexport const CurrentUserContext = React.createContext()\n","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card({ card, onCardClick, onCardDelete, onCardLike, onCardDislike }) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const isOwn = card.owner._id === currentUser._id // Определяем, являемся ли мы владельцем текущей карточки\n\n  const isLiked = card.likes.some((i) => i._id === currentUser._id) // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n\n  const cardLikeButtonClassName = `element__like ${isLiked && 'element__like_theme_black'}`\n  const handleClick = () => {\n    onCardClick(card)\n  }\n  const handleDeleteClick = () => {\n    onCardDelete(card._id)\n  }\n  const handleLikeClick = () => {\n    onCardLike(card)\n  }\n  const handleDislikeClick = () => {\n    onCardDislike(card)\n  }\n\n  return (\n    <li className=\"element\">\n      <img\n        style={{ backgroundImage: `url(${card.link})` }}\n        className=\"element__image\"\n        alt=\"\"\n        onClick={handleClick}\n      />\n      {isOwn && <button className=\"element__trash\" onClick={handleDeleteClick} />}\n      <div className=\"element__info\">\n        <h3 className=\"element__title\">{card.name}</h3>\n        <div className=\"element__like-container\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={isLiked ? handleDislikeClick : handleLikeClick}\n          />\n          <p className=\"element__like-counter\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  )\n}\n\nexport default Card\n","import React from 'react'\nimport Card from './Card'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Main({\n  onEditAvatar,\n  onEditProfile,\n  onAddPlace,\n  onCardClick,\n  cards,\n  onCardLike,\n  onCardDislike,\n  onCardDelete,\n}) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <button\n          className=\"profile__avatar\"\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={onEditAvatar}\n        />\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button className=\"profile__edit-button\" onClick={onEditProfile} />\n          <p className=\"profile__job\">{currentUser.about}</p>\n        </div>\n        <button className=\"profile__add-button\" onClick={onAddPlace} />\n      </section>\n\n      <div className=\"elements\">\n        <ul className=\"elements__list\">\n          {cards.map((card) => (\n            <Card\n              key={card._id}\n              card={card}\n              onCardClick={onCardClick}\n              onCardDelete={onCardDelete}\n              onCardLike={onCardLike}\n              onCardDislike={onCardDislike}\n            />\n          ))}\n        </ul>\n      </div>\n    </main>\n  )\n}\n\nexport default Main\n","import React from 'react'\n\nfunction ImagePopup({ card, onClose, name }) {\n  return (\n    <section className={`popup popup_${name} ${card && 'popup_opened'}`}>\n      <div className=\"popup__container-place\">\n        <img src={card && card.link} className=\"popup__image\" alt={card && card.name} />\n        <p className=\"popup__place\">{card && card.name}</p>\n        <button className=\"popup__close\" onClick={onClose} />\n      </div>\n    </section>\n  )\n}\n\nexport default ImagePopup\n","class Api {\n  constructor({ baseUrl, headers }) {\n    this.baseUrl = baseUrl\n    this.headers = headers\n  }\n\n  _handleOriginalResponse(res) {\n    if (res.ok) {\n      return res.json()\n    }\n    return Promise.reject(new Error(`Что-то пошло не так: ${res.status}`))\n  }\n  getAllInfo() {\n    return Promise.all([this.getInitialCards(), this.getUserInfo()])\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n\n  addCard(item) {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: 'POST',\n      headers: this.headers,\n      body: JSON.stringify(item),\n    }).then(this._handleOriginalResponse)\n  }\n\n  deleteCard(id) {\n    return fetch(`${this.baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n\n  setUserInfo(item) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify(item),\n    }).then(this._handleOriginalResponse)\n  }\n\n  editAvatar(item) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: this.headers,\n      body: JSON.stringify(item),\n    }).then(this._handleOriginalResponse)\n  }\n\n  putLike(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: 'PUT',\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n\n  removeLike(id) {\n    return fetch(`${this.baseUrl}/cards/likes/${id}`, {\n      method: 'DELETE',\n      headers: this.headers,\n    }).then(this._handleOriginalResponse)\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-14',\n  headers: {\n    authorization: 'e63db112-531a-4c6f-ae02-ccc048d1696b',\n    'Content-Type': 'application/json',\n  },\n})\nexport default api\n","import React from 'react'\n\nfunction PopupWithForm({ isOpen, children, onClose, name, title, submit, onSubmit }) {\n  return (\n    <section\n      className={`popup popup_${name} ${isOpen && `popup_opened`} `}\n      onClick={(evt) => (evt.target !== evt.currentTarget) && onClose }\n    >\n      <div className=\"popup__container\">\n        <button className=\"popup__close\" onClick={onClose} />\n        <form className=\"popup__form-container\" name={name} onSubmit={onSubmit} noValidate>\n          <h2 className=\"popup__title\">{title}</h2>\n          <fieldset className=\"popup__form\">\n            {children}\n            <input type=\"submit\" className=\"popup__button\" value={submit} onClick={onClose} />\n          </fieldset>\n        </form>\n      </div>\n    </section>\n  )\n}\n\nexport default PopupWithForm\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser }) {\n  const [name, setName] = React.useState('')\n  const [description, setDescription] = React.useState('')\n  const currentUser = React.useContext(CurrentUserContext)\n\n  const handleNameChange = (e) => {\n    setName(e.target.value)\n  }\n  const handleJobChange = (e) => {\n    setDescription(e.target.value)\n  }\n\n  React.useEffect(() => {\n    setName(currentUser.name)\n    setDescription(currentUser.about)\n  }, [currentUser])\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onUpdateUser({\n      name,\n      about: description,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-profile\"\n      title=\"Редактировать профиль\"\n      submit=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__input-container\">\n        <input\n          type=\"text\"\n          id=\"name\"\n          name=\"name\"\n          className=\"popup__name popup__input\"\n          placeholder=\"Имя\"\n          value={name || ''}\n          onChange={handleNameChange}\n          required\n          minLength=\"2\"\n          maxLength=\"40\"\n        />\n        <span className=\"popup__input-error\" id=\"name-error\"></span>\n      </div>\n      <div className=\"popup__input-container\">\n        <input\n          type=\"text\"\n          id=\"job\"\n          name=\"about\"\n          className=\"popup__job popup__input\"\n          placeholder=\"Профессия\"\n          value={description || ''}\n          onChange={handleJobChange}\n          required\n          minLength=\"2\"\n          maxLength=\"200\"\n        />\n        <span className=\"popup__input-error\" id=\"job-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditProfilePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar }) {\n  const avatarRef = React.useRef()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"edit-avatar\"\n      title=\"Обновить аватар\"\n      submit=\"Сохранить\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__input-container\">\n        <input\n          type=\"url\"\n          id=\"link\"\n          name=\"avatar\"\n          className=\"popup__job popup__job_theme_place popup__input\"\n          placeholder=\"Ссылка на аватар\"\n          required\n          ref={avatarRef}\n        />\n        <span className=\"popup__input-error\" id=\"link-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\n\nexport default EditAvatarPopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction AddPlacePopup({ onClose, isOpen, onAddPlace }) {\n  const nameRef = React.useRef()\n  const linkRef = React.useRef()\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n    // Передаём значения управляемых компонентов во внешний обработчик\n    onAddPlace({\n      name: nameRef.current.value,\n      link: linkRef.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm\n      name=\"add-place\"\n      title=\"Новое место\"\n      submit=\"Создать\"\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <div className=\"popup__input-container\">\n        <input\n          type=\"text\"\n          id=\"place\"\n          name=\"name\"\n          className=\"popup__name popup__name_theme_place popup__input\"\n          placeholder=\"Название\"\n          required\n          minLength=\"1\"\n          maxLength=\"30\"\n          ref={nameRef}\n        />\n        <span className=\"popup__input-error\" id=\"place-error\"></span>\n      </div>\n      <div className=\"popup__input-container\">\n        <input\n          type=\"url\"\n          id=\"link\"\n          name=\"link\"\n          className=\"popup__job popup__job_theme_place popup__input\"\n          placeholder=\"Ссылка на картинку\"\n          required\n          ref={linkRef}\n        />\n        <span className=\"popup__input-error\" id=\"link-error\"></span>\n      </div>\n    </PopupWithForm>\n  )\n}\nexport default AddPlacePopup\n","import React from 'react'\nimport PopupWithForm from './PopupWithForm'\n\nfunction ConfirmDeletePopup({ cardId, isOpen, onClose, onSubmit} ) {\n   const handleConfirm = (e) => {\n    e.preventDefault()\n    onSubmit(cardId)\n   }\n\n  return (\n    <PopupWithForm \n      name=\"delete\" \n      title=\"Вы уверенны?\" \n      submit=\"Да\" \n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleConfirm}\n    />\n    \n  )\n}\n\nexport default ConfirmDeletePopup\n","import React from 'react'\nimport Header from './Header'\nimport Footer from './Footer'\nimport Main from './Main'\nimport ImagePopup from './ImagePopup'\nimport api from '../utils/Api'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport EditProfilePopup from './EditProfilePopup'\nimport EditAvatarPopup from './EditAvatarPopup'\nimport AddPlacePopup from './AddPlacePopup'\nimport ConfirmDeletePopup from './ConfirmDeletePopup'\n\nconst App = () => {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false)\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false)\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false)\n  const [isDeletePopupOpen, setIsDeletePopupOpen] = React.useState(false)\n  const [selectedCard, setSelectedCard] = React.useState(null)\n  const [cardToDelete, setCardToDelete] = React.useState(null)\n  const [currentUser, setCurrentUser] = React.useState({})\n  const [cards, setCards] = React.useState([])\n\n  React.useEffect(() => {\n    api\n      .getAllInfo()\n      .then((res) => {\n        const [dataCards, dataProfile] = res\n        setCards(dataCards)\n        setCurrentUser(dataProfile)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }, [])\n\n  React.useEffect(() => {\n    const handleEscClose = (evt) => {\n      if (evt.key === 'Escape') {\n        closeAllPopups()\n      }\n    }\n    document.addEventListener('keydown', handleEscClose)\n    return () => {\n      document.removeEventListener('keydown', handleEscClose)\n    }\n  },[])\n\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id) // Снова проверяем, есть ли уже лайк на этой карточке\n    api\n      .putLike(card._id, !isLiked) // Отправляем запрос в API и получаем обновлённые данные карточки\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c)) // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        setCards(newCards) // Обновляем стейт\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleCardDislike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id) // Снова проверяем, есть ли уже лайк на этой карточке\n    api\n      .removeLike(card._id, !isLiked) // Отправляем запрос в API и получаем обновлённые данные карточки\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c)) // Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n        setCards(newCards) // Обновляем стейт\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleCardDelete = (id) => {\n    api\n      .deleteCard(id)\n      .then(() => {\n        const newCards = cards.filter((item) => item._id !== id)\n        setCards(newCards)\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleUpdateUser = (data) => {\n    api\n      .setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleUpdateAvatar = (data) => {\n    api\n      .editAvatar(data)\n      .then((res) => {\n        setCurrentUser(res)\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleAddPlaceSubmit = (newCard) => {\n    api\n      .addCard(newCard)\n      .then((newCard) => {\n        setCards([newCard, ...cards])\n        closeAllPopups()\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true)\n  }\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true)\n  }\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true)\n  }\n  const handleCardClick = (selectedCard) => {\n    setSelectedCard(selectedCard)\n  }\n  const handleDeleteClick = (cardId) => {\n    setIsDeletePopupOpen(true)\n    setCardToDelete(cardId)\n  }\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false)\n    setIsAddPlacePopupOpen(false)\n    setIsEditAvatarPopupOpen(false)\n    setSelectedCard(null)\n    setIsDeletePopupOpen(false)\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <div className=\"page__container\">\n          <Header />\n          <Main\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            onCardDelete={handleDeleteClick}\n            onCardLike={handleCardLike}\n            onCardDislike={handleCardDislike}\n            cards={cards}\n          />\n          <Footer />\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n          />\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n          />\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddPlace={handleAddPlaceSubmit}\n          />\n          <ConfirmDeletePopup\n            isOpen={isDeletePopupOpen}\n            onClose={closeAllPopups}\n            cardId={cardToDelete}\n            onSubmit={handleCardDelete}\n          />\n          <ImagePopup name=\"photo-zoom\" card={selectedCard} onClose={closeAllPopups} />\n        </div>\n      </div>\n    </CurrentUserContext.Provider>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport App from './components/App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n","module.exports = __webpack_public_path__ + \"static/media/logo-mesto.c6f11019.svg\";"],"sourceRoot":""}